function main():
    n, k: Integers = read_input()
    elems: List of Integers = read_elements(n)
    all_same: Function = lambda arr: Boolean = all(x == arr[0] for x in arr)

    if all_same(elems):
        print(0)
        return

    if k == 1:
        print(-1)
        return

    if not all_same(elems[k - 1:]):
        print(-1)
        return

    target: Integer = elems[-1]
    to_delete: List of Integers = elems[0:k - 1]

    while to_delete and to_delete[-1] == target:
        to_delete.pop()

    print(len(to_delete))

function read_input() -> Tuple of Integers:
    return tuple(map(int, input().split(' ')))

function read_elements(n: Integer) -> List of Integers:
    return list(map(int, input().split(' ')))

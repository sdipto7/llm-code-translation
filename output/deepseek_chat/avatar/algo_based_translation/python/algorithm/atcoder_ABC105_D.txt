```python
import sys
from collections import Counter
import numpy as np

def main():
    input_line = sys.stdin.readline()
    N, M = [int(x) for x in input_line.split()]
    
    A_line = sys.stdin.readline()
    A = np.array([int(a) for a in A_line.split()], dtype=np.int64)
    
    extended_array = np.hstack([0, A])
    remainders = extended_array % M
    cum_remainders = remainders.cumsum() % M
    
    remainder_counts = Counter(cum_remainders)
    
    combinations = 0
    for count in remainder_counts.values():
        combinations += count * (count - 1) // 2
    
    print(combinations)
```

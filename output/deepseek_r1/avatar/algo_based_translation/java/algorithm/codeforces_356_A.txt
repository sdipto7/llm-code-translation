```python
def main():
    import sys
    from sys import stdin
    import bisect

    class FastReader:
        def __init__(self):
            self.stdin = stdin
            self.tokens = []

        def next(self):
            while not self.tokens:
                line = self.stdin.readline()
                if not line:
                    return None
                self.tokens = line.split()
            return self.tokens.pop(0)

        def next_int(self):
            return int(self.next())

    n = int(input())
    left = list(range(n))
    left.sort()
    answer = [0] * n
    q = int(input())
    
    for _ in range(q):
        l = int(input().split()[0]) - 1
        r = int(input().split()[1]) - 1
        win = int(input().split()[2])
        win_idx = win - 1
        
        start = bisect.bisect_left(left, l)
        end = bisect.bisect_right(left, r)
        removed = left[start:end]
        del left[start:end]
        
        for idx in removed:
            if idx != win_idx:
                answer[idx] = win
        
        answer[win_idx] = 0
        insert_pos = bisect.bisect_left(left, win_idx)
        left.insert(insert_pos, win_idx)
    
    print(' '.join(map(str, answer)))

if __name__ == "__main__":
    main()
```

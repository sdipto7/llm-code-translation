Algorithm:

Function: main
Parameters: String args[] (command-line arguments)
Return type: void

Variables:
- Scanner sc: initialized with System.in
- int N: input value from sc.next()
- String[] s: array of size N
- int a_num = 0
- int b_num = 0
- boolean flag = true
- int ans = 0

Logic Flow:
1. Read integer N via Scanner
2. Initialize string array s with N elements
3. For i from 0 to N-1:
   3.1 Read s[i] via Scanner
   3.2 If first character of s[i] is 'B':
        - Increment b_num
   3.3 If last character of s[i] is 'A':
        - Increment a_num
   3.4 If (first character is 'B' OR last character is 'A'):
        - If NOT (first character is 'B' AND last character is 'A'):
            - Set flag = false
   3.5 For j from 0 to length(s[i])-2:
        - If substring(j, j+2) equals "AB":
            - Increment ans by 1
4. Add minimum(a_num, b_num) to ans
5. If (minimum(a_num, b_num) â‰  0 AND flag == true):
    - Subtract 1 from ans
6. Print ans

Input Operations:
- Read integer N from standard input
- Read N strings sequentially

Output Operation:
- Print final ans value

Dependencies:
- java.util.Scanner

Control Structures:
- For loop: iterate N times for input processing
- Nested for loop: iterate through each string's characters
- Multiple if/else conditionals for character checks
- Boolean flag check for special case handling

Data Processing:
- String manipulation for first/last character checks
- Substring matching for "AB" sequences
- Mathematical operations for counting and final calculation

1. Read two integers n and k from the input.
2. Initialize an array of size n.
3. Read n integers from the input and store them in the array.
4. Initialize counters o and e to 0.
5. Iterate through the array, incrementing o for each element equal to 1 and e for each element not equal to 1.
6. Iterate k times:
   1. Read two integers l and r from the input.
   2. Calculate the length of the range as r - l + 1.
   3. If the length is odd, output 0.
   4. If the length is even, check if half the length is less than or equal to both o and e.
      1. If true, output 1.
      2. If false, output 0.
7. Output the results of the k iterations.
